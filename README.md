 Simulimi i rrjetit LTE me qellim analizimin e parametrave QoS
# LTE Network Simulation using NS3


## 1. Configuration of LTE Network lte_basic.cc

1. Create a script file in c++ called `lte_netw_config.cc` in which we will code the configurations
2. Set a group of node objects, and add methods to make them behave like eNodeBs or UEs
3. Install LTE stack of protocols 
4. Configure mobility model for all nodes
5. Set initial positions of nodes by using `SetPositionAllocator` function of the mobility module. We assign the position of nodes in a way that they can form a grid.
6. Attach all the UE nodes to one of the eNodeBs. We configure UE to eNodeBs, in order to create a `Radio Resource Control (RRC)`  between each other. In this way we have all are channels firmly in place so that we can start the required communications between the UEs and the eNodeBs.
8. Activate a data radio bearer, for activating two traffic generators for any given bearer, one for uplink and other for downlink.
9. In simulation we can see the activation of previous step, by communication between the UEs and the eNodeBs, by a group of round circles
The more higher the number of circles in the region, the more dense is the traffic flowing. We can monitor this step by activating ```./NetAnim ```
in ns3 found in path 
`ns-allinone-3.33/netanim-3.108$ ./NetAnim` 
10. In the configuration file `lte_basic.cc` we set a lte1.xml file in order to generate the communication scenario. Import this file in `NetAnim`
GUI interface to see visualy the simulation

<img src="https://user-images.githubusercontent.com/80008808/156177320-7a380779-78dd-47df-9653-bcd313d999cb.png" alt="drawing" width="400"/>  <img src="https://user-images.githubusercontent.com/80008808/156177556-f50db0b9-a88e-4126-977a-c9e54ad81bb6.png" alt="drawing" width="400"/>

## 2. Configuration of Handover Scenario

1.  Simulating handover, in which UE nodes conneted previously with one eNodeB, establish a connection with another eNodeB, in order to receive a higher signal strength.
2. To make the configuration, it is needed to know two things: 
      - Notification for a connection established between UE node and the eNodeeB
      - Get notified when the handover of a UE starts and at when the handover end.
3. We write 3 functions: 
      - Notifying us in what time was the conection established between a UE node and an eNodeB
      - Function to notify when the handover starts
      - Function to notify when the handover stops/ends
4. Handover starts when  UE node starts receiving signals of better signal strength from an eNodeB other than the one by which it was being served. The handover takes a miniscule amount of time to successfully get completed and after the handover takes place, the UE node has now successfully established a connection with the new eNodeB.

<img src="https://user-images.githubusercontent.com/80008808/156179262-186f6c2e-b095-44b3-86bc-74d51cfec056.png" alt="drawing" width="400"/>  <img src="https://user-images.githubusercontent.com/80008808/156179269-b2f30821-2a97-4fe3-bdb6-d49648f6b4c9.png" alt="drawing" width="400"/>



## 3. How to run the Scripts

1.	Build the modules of ns3, by executing `./build.py` 
2.	Make a copy of `lte_basic.cc` in `/ns-allinone-3.33/ns-3.33/src/lte/examples` and one other into scratch folder found in the path `/ns-allinone-3.33/ns-3.33/scratch`
4.	To run the command type `./waf --run scratch/lte_netw_config.cc` in the path `/ns-allinone-3.33/ns-3.33/` 
5.	For NetAnim, simply type `./NetAnim` in path `/ns-allinone-3.33/netanim-3.108` and import lte1.xml file generated by simulation of `lte_basic.cc`
7.	For flow monitor, parse from `flow-monitor/examples/flowmon-parse-results.py`. copy this file into the path where `flow_monitor.xml` file is.
8.	Run the perl/python script files to extract data from .tr files for ploting the performance metrics.
9.	For ploting graphically data extracted, use some scrits in `gnuplot`.
